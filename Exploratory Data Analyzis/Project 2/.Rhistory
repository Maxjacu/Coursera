install.packages("xlsx")
library("rJava", lib.loc="C:/Users/z002hezy/AppData/Local/R")
library("xlsx", lib.loc="C:/Users/z002hezy/AppData/Local/R")
fileURL <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx"
download.file(fileURL, destfile="attempt2.xlsx")
library(xlsx)
csv2 <- read.xlsx("attempt2.xlsx", sheetIndex=1, header=TRUE)
csv2
library(rJava)
library(xlsx)
csv2 <- read.xlsx("attempt2.xlsx", sheetIndex=1, header=TRUE)
remove.packages("xlsx")
remove.packages("rJava")
library(rJava)
install.packages("xlsx")
library(rJava)
library(rJava)
library(rJava)
remove.packages("rJava")
load("C:/Users/z002hezy/Desktop/Coding/Data Visualization/Personal/LocationHistory/CSV/das.RData")
View(locations)
locations$place[i] <- locations$Distanceto.home[i] <0.5
for (i in 1:nrow(locations))  {
locations$place[i] <- locations$Distanceto.home[i] <0.5
}
View(locations)
for (i in 1:nrow(locations))  {
locations$place[i] <-
if (locations$Distanceto.home[i] <0.5) {"Home"}
if (locations$Distanceto.work[i] <0.5) {"Work"}
}
for (i in 1:nrow(locations))  {
if (locations$Distanceto.home[i] <0.5) {locations$place[i] = "Home"}
if (locations$Distanceto.work[i] <0.5) {locations$place[i] = "Work"}
}
View(locations)
locations$Distanceto.home <- ""
for (i in 1:nrow(locations))  {
locations$Distanceto.home[i] <- gcd.slc(locations$Lon[i], locations$Lat[i], home[1], home[2])
locations$Distanceto.work[i] <- gcd.slc(locations$Lon[i], locations$Lat[i], work[1], work[2])
locations$DayNr[i] <- as.Date(locations$DateTime[i])-as.Date( locations$DateTime[1])
}
locations$place <- ""
for (i in 1:nrow(locations))  {
if (locations$Distanceto.home[i] <0.5) {locations$place[i] = "Home" & locations$Speed[i] <0.001}
if (locations$Distanceto.work[i] <0.5) {locations$place[i] = "Work" & locations$Speed[i] <0.001}
}
for (i in 1:nrow(locations))  {
if (locations$Distanceto.home[i] <0.5 & locations$Speed[i] <0.001) {locations$place[i] = "Home" }
if (locations$Distanceto.work[i] <0.5 & locations$Speed[i] <0.001) {locations$place[i] = "Work" }
}
for (i in 1:nrow(locations))  {
if (locations$Distanceto.home[i] <0.5 | locations$Speed[i] < 0.001) {locations$place[i] = "Home" }
if (locations$Distanceto.work[i] <0.5 | locations$Speed[i] < 0.001) {locations$place[i] = "Work" }
}
for (i in 1:nrow(locations))  {
if (locations$Distanceto.home[i] <0.5 ) {locations$place[i] = "Home" }
if (locations$Distanceto.work[i] <0.5 ) {locations$place[i] = "Work" }
}
locations$place <- ""
for (i in 1:nrow(locations))  {
if (locations$Distanceto.home[i] <0.5 & if (locations$Speed[i] < 0.001)) {locations$place[i] = "Home" }
}
for (i in 1:nrow(locations))  {
if (locations$Distanceto.home[i] <0.5)
{ if (locations$Speed[i] < 0.001) {
locations$place[i] = "Home"
}
}
if (locations$Distanceto.work[i] <0.5)
{ if (locations$Speed[i] < 0.001) {
locations$place[i] = "Work"
}
}
}
locations$Speed
for (i in 1:nrow(locations))  {
if (locations$Distanceto.home[i] <0.5)
{ if (locations$Speed[i] < 1) {
locations$place[i] = "Home"
}
}
if (locations$Distanceto.work[i] <0.5)
{ if (locations$Speed[i] < 1) {
locations$place[i] = "Work"
}
}
}
for (i in 1:nrow(locations))  {
if (locations$Distanceto.home[i] <0.5)
{ if (locations$Speed[i] < 0.001, na.rm=TRUE) {
locations$place[i] = "Home"
}
}
if (locations$Distanceto.work[i] <0.5)
{ if (locations$Speed[i] < 0.001, na.rm=TRUE) {
locations$place[i] = "Work"
}
}
}
for (i in 1:nrow(locations))  {
if (locations$Distanceto.home[i] <0.5)
{ if (locations$Speed[i] < 0.001) {
locations$place[i] = "Home"
}
}
if (locations$Distanceto.work[i] <0.5)
{ if (locations$Speed[i] < 0.001) {
locations$place[i] = "Work"
}
}
}
View(locations)
for (i in 1:nrow(locations))  {
if (locations$Distanceto.home[i] <0.5)
{ if (locations$Speed[i] < 0.001 & locations$Speed[i+1] < 0.001) {
locations$place[i] = "Home"
}
else {
locations$commute[i+1] <- Hometo.Work
}
}
if (locations$Distanceto.work[i] <0.5)
{ if (locations$Speed[i] < 0.001 & locations$Speed[i+1] < 0.001) {
locations$place[i] = "Work"
}
else {
locations$commute[i+1] <- Workto.home
}
}
}
for (i in 1:nrow(locations))  {
if (locations$Distanceto.home[i] <0.5)
{ if (locations$Speed[i] < 0.001 & locations$Speed[i+1] < 0.001) {
locations$place[i] = "Home"
}
else {
locations$commute[i+1] <- "Hometo.Work"
}
}
if (locations$Distanceto.work[i] <0.5)
{ if (locations$Speed[i] < 0.001 & locations$Speed[i+1] < 0.001) {
locations$place[i] = "Work"
}
else {
locations$commute[i+1] <- "Workto.home"
}
}
}
View(locations)
for (i in 1:nrow(locations))  {
if (locations$Distanceto.home[i] <0.5)
{ if (locations$Speed[i] < 0.001 ) {
locations$place[i] = "Home"
}
else {
locations$commute[i+1] <- "Hometo.Work"
}
}
if (locations$Distanceto.work[i] <0.5)
{ if (locations$Speed[i] < 0.001 ) {
locations$place[i] = "Work"
}
else {
locations$commute[i+1] <- "Workto.home"
}
}
}
View(locations)
ocations$commute <- ""
ocations$place <- ""
locations$place <- ""
locations$commute <- ""
for (i in 1:nrow(locations))  {
if (locations$Distanceto.home[i] <0.5)
{ if (locations$Speed[i] < 0.001 ) {
locations$place[i] = "Home"
}
else {
locations$commute[i+1] <- "Hometo.Work"
}
}
if (locations$Distanceto.work[i] <0.5)
{ if (locations$Speed[i] < 0.001 ) {
locations$place[i] = "Work"
}
else {
locations$commute[i+1] <- "Workto.home"
}
}
}
View(locations)
locations$commute <- ""
locations$place <- ""
View(locations)
for (i in 1:nrow(locations))  {
if (locations$Distanceto.home[i] <0.5)
{ if (locations$Speed[i] < 0.001 ) {
locations$place[i] = "Home"
}
}
if (locations$Distanceto.work[i] <0.5)
{ if (locations$Speed[i] < 0.001 ) {
locations$place[i] = "Work"
}
}
}
View(locations)
for (i in 1:nrow(locations))  {
if (locations$Distanceto.home[i] <0.5)
{ if (locations$Speed[i] < 0.01 ) {
locations$place[i] = "Home"
}
}
if (locations$Distanceto.work[i] <0.5)
{ if (locations$Speed[i] < 0.01 ) {
locations$place[i] = "Work"
}
}
}
View(locations)
write.csv(locations, "LocationHistory_clustered.csv")
for (i in 1:nrow(locations))  {
if (locations$Distanceto.home[i] <0.5)
{ if (locations$Speed[i] < 0.01 ) {
locations$place[i] = "Home"
}
}
if (locations$Distanceto.work[i] <0.5)
{ if (locations$Speed[i] < 0.01 ) {
locations$place[i] = "Work"
}
}
}
View(locations)
library("plyr", lib.loc="C:/Users/z002hezy/AppData/Local/R")
count(locations$place)
count(locations$place[1])
count(locations$place[0])
count(locations$place[2])
setwd("~/GitHub/Coursera2/Exploratory Data Analyzis/Project 2")
NEI  <- readRDS("summarySCC_PM25.rds")
SCC  <- readRDS("Source_Classification_Code.rds")
#Plot 1: Have total emissions from PM2.5 decreased in the United States from 1999 to 2008?
barplot(t(sapply(split(NEI$Emissions, NEI$year), sum)), ylab="PM2.5 Emissions",
main="USA Emission trend 1999 - 2008")
opt <- options("scipen" = 20)
barplot(t(sapply(split(NEI$Emissions, NEI$year), sum)), ylab="PM2.5 Emissions",
main="USA Emission trend 1999 - 2008")
barplot(t(sapply(split(NEI$Emissions, NEI$year), sum)), ylab="PM2.5 Emissions (tons)",
main="USA Emission trend 1999 - 2008")
#Save to png
dev.copy(png, file = "plot1.png")  ## Copy my plot to a PNG file
dev.off()
SCC.coal <- as.vector(SCC$SCC[grepl("Coal", SCC$Short.Name)|grepl("Fuel Comb", SCC$Short.Name)])
NEI.coal <- NEI[NEI$SCC %in% SCC.coal,]
opt <- options("scipen" = 20)
barplot(t(sapply(split(NEI.coal$Emissions, NEI.coal$year), sum)), ylab="PM2.5 Emissions (tons)",
main="USA Emission trend from Coal Sources")
#Save to png
dev.copy(png, file = "plot4.png")  ## Copy my plot to a PNG file
dev.off()
